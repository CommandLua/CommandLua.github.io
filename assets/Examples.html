<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163808192-1"></script>
    <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-163808192-1');
    </script>


    <title>Command Lua Docs</title>
    <link rel="stylesheet" type="text/css" href="style.css">



</head>

<body>
    <div id="header-container">
        <div id="header">
            <div id="header-logo">
                <h1>
                    <a href="../index2.html"><img src="./images/CommandLuaLogo.svg" height=45px alt="CommandLua"></a>
                </h1>
            </div>
            <div id="header-nav">
                <a class="selected" href="../index2.html">Reference</a>
                <!-- <a href="/guides/">Guides</a> -->
                <a href="https://www.matrixgames.com/forums/tt.asp?forumid=1681">Forum</a>
            </div>
        </div>
    </div>
    <div id="container">

        <div id="content">
            <div id="nav">
                <ul>
                    <li><a href="../index2.html#News">News</a></li>
                    <li><a href="../index2.html#Introduction">Introduction</a></li>
                    <ol>
                        <li><a href="../index2.html#HowToUse">How to Use These Docs</a></li>
                        <li><a href="../index2.html#FirstSteps">First Steps</a></li>
                        <li><a href="../index2.html#ExternalResources">External Resources</a></li>
                    </ol>

                    <li><a href="../index2.html#Overview">Overview</a></li>
                    <ol>
                        <li><a href="../index2.html#CaseSensitivityandConventions">Case Sensitivity and Conventions</a></li>
                        <li><a href="../index2.html#EventHandling">Event Handling</a></li>
                        <li><a href="../index2.html#ErrorHandling">Error Handling</a></li>
                    </ol>
                    <li><a href="DataTypes.html">Data Types</a></li>
                    <li><a href="Functions.html">Functions</a></li>
                    <li><a href="Wrappers.html">Wrappers</a></li>
                    <li><a href="Selectors.html">Selectors</a></li>
                    <li><a href="Tables.html">Tables</a></li>
                </ul>
            </div>

            <div id="main">

				<h1><a class="anchor" id="Example_Wrapper_Contact"></a>Wrapper Contact</h1>
				<h2>Retreiving the Contact details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>

				<hr>
                <h1><a class="anchor" id="Example_Wrapper_Doctrine"></a>Wrapper Doctrine</h1>
				<h2>Retreiving the mission doctrine object</h2>
				<div class="example">
					<code>
local d = ScenEdit_GetDoctrine( { side='united states', mission='AEW East' } )<br>
print(d)<br>
<br>
						<output>
{ unrep_selection = '2' }<br>
						</output>
					</code>
				</div>
				<div class="example">
					<code>
local d = ScenEdit_GetDoctrine({side='united states',mission='AEW East',actual='yes'})<br>
print(d)<br>
<br>
						<output >
{ <br>
weapon_control_status_land = '2', weapon_state_planned = '0', navigation_land = '0', engage_opportunity_targets = '0', <br>dive_on_threat = '0', weapon_control_status_air = '2', bvr_logic = '1', gun_strafing = '0', recharge_on_attack = '10', <br> automatic_evasion = '1', bingo_threshold = '3', fuel_state_rtb = '2', unrep_selection = '2', quick_turnaround_for_aircraft = '1', <br> maintain_standoff = '1', avoid_contact = '0', use_nuclear_weapons = '0', recharge_on_patrol = '60', <br> kinematic_range_for_torpedoes = '1', ignore_emcon_while_under_attack = '1', weapon_state_rtb = '0', dipping_sonar = '0', <br> deploy_on_damage = '1', ignore_plotted_course = '0', jettison_ordnance = '0', weapon_control_status_subsurface = '2', <br> navigation_surface = '0', withdraw_on_attack = '0', deploy_on_defence = '5', rtb_when_winchester = '0', deploy_on_fuel = '5', <br> withdraw_on_defence = '0', withdraw_on_fuel = '1', use_aip = '1', use_refuel_unrep = '1', use_sams_in_anti_surface_mode = '1', <br> air_operations_tempo = '0', engaging_ambiguous_targets = '2', fuel_state_planned = '0', refuel_unrep_allied = '0', <br> weapon_control_status_surface = '2', deploy_on_attack = '5', withdraw_on_damage = '0'<br>
}
						</output>
					</code>
				</div>


                <hr>
				<h1><a class="anchor" id="Example_Wrapper_DoctrineWRA"></a>Wrapper DoctrineWRA</h1>
				<h2>Retreiving a Doctrine WRA </h2>
<p>There is a WRA_??? item for each weapon system in the LEVEL selected, in this case a unit, and for the type of target selected ( 2000 = 'Aircraft_Unspecified'). <br>
It can be filtered by using the weapon DBID in which case the WEAPON_DBID and WEAPON_NAME (from WRA) will be shown on the parent side with LEVEL and TARGET_TYPE. </p>
				<div class="example">
					<code>
					local a =  local a = ScenEdit_GetDoctrineWRA({guid='a1a52edf-3541-4b55-bea4-58d4e1ab11dc',target_type=2000})<br>
					print(a) <br>
						<output>
						{ <br>
						LEVEL = 'UNIT', <br>
						  WRA_2 = { WEAPON_DBID = 858, QTY_SALVO = 'Max', WEAPON_NAME = '76mm/62 Compact HE Burst [4 rnds]', SHOOTER_SALVO = 'Max', FIRING_RANGE = 'Max', SELF_DEFENCE = 'Max' }, <br>
						  WRA_1 = { WEAPON_DBID = 1630, QTY_SALVO = 'Max', WEAPON_NAME = '20mm/85 Mk15 Phalanx Blk 1 Burst [300 rnds]', SHOOTER_SALVO = 'Max', FIRING_RANGE = 'Max', SELF_DEFENCE = 'Max' }, <br>
						  WRA_3 = { WEAPON_DBID = 926, QTY_SALVO = 1, WEAPON_NAME = 'RIM-162C ESSM', SHOOTER_SALVO = 1, FIRING_RANGE = 'Max', SELF_DEFENCE = 5 }, <br>
						  TARGET_TYPE = Aircraft_Unspecified<br> }
						</output>
					</code>
				</div>
				
				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Event"></a>Wrapper Event</h1>
				<p>
				<h2>1. Showing the full attributes of the event</h2>
					<div class="example">
						<code>
local a = ScenEdit_GetEvent( "Aircraft entering ship's exclusion zone" )<br />
for k,v in pairs(a.fields) do<br />
&nbsp;if string.find(k,'property_') ~= nil then -- is a property<br />
&nbsp;&nbsp;local vt = {}<br />
&nbsp;&nbsp;local i = 0<br />
&nbsp;&nbsp;for w in string.gmatch(v,'%g+[^, ]') do<br />
&nbsp;&nbsp;&nbsp;vt[i] = w<br />
&nbsp;&nbsp;&nbsp;i=i+1<br />
&nbsp;&nbsp;end<br />
&nbsp;&nbsp;print("\r\n[object] = " .. string.sub(vt[0],2) ) -- property name<br />
&nbsp;&nbsp;if vt[3] == 'True' then<br />
&nbsp;&nbsp;&nbsp;print( a[ string.sub(vt[0],2) ] ) -- value of property<br />
&nbsp;&nbsp;else<br />
&nbsp;&nbsp;&nbsp;print( 'no get function' ) -- value of property<br />
&nbsp;&nbsp;end<br />
&nbsp;end<br />
end
<br />
<br />

							<output>
[object] = description<br />
Aircraft entering ship's exclusion zone
<br />
<br />
[object] = isActive<br />
'Yes'
<br />
<br />
[object] = guid<br />
dc7a2fe6-4786-4e8f-ba04-f7d152c39265
<br />
<br />
[object] = probability<br />
100
<br />
<br />
[object] = details<br />
{ conditions = { [1] = { LuaScript = { ID = '8635d4bd-5642-4b9b-af0f-877953f25459', Description = 'Detected by SideB', ScriptText = 'local answer = false<br />
local unit = ScenEdit_UnitX();<br />
print(unit)<br />
--local unit = ScenEdit_GetUnit({name='Happy #1', guid='3d9e9a78-091f-4745-b48d-0fbaba6fe8ce'})<br />
local contacts = unit.ascontact  -- what other sides see me as<br />
print(contacts)<br />
local base = ScenEdit_GetUnit({name='DDG 138 Taizhou [Pr.956ME Sovremenny]', guid='4761b40d-01e0-416c-a3e9-43880de92c3c'}) -- unit doing the detecting<br />
local side = VP_GetSide({side=base.side}).guid; print(side)<br />
  for x = 1, #contacts do<br />
    if contacts[x].side == side then<br />
      -- contact on my side<br />
      local mycontact = contacts[x].guid<br />
      local con = ScenEdit_GetContact({side = contacts[x].side, guid = contacts[x].guid}); print(con);print(con.posture)<br />
      answer=true<br />
    end<br />
  end<br />
return answer' } } }, actions = { [1] = { type = 'LuaScript', LuaScript = { ID = '4594c3bf-421d-43cd-a077-7f0d40294ae6', Description = 'Change posture', ScriptText = 'local unit = ScenEdit_UnitX();<br />
print(unit)<br />
--local unit = ScenEdit_GetUnit({name='Happy #1', guid='3d9e9a78-091f-4745-b48d-0fbaba6fe8ce'})<br />
local contacts = unit.ascontact  -- what other sides see me as<br />
print(contacts)<br />
local base = ScenEdit_GetUnit({name='DDG 138 Taizhou [Pr.956ME Sovremenny]', guid='4761b40d-01e0-416c-a3e9-43880de92c3c'}) -- unit doing the detecting<br />
local side = VP_GetSide({side=base.side}).guid; print(side)<br />
local answer = false<br />
  for x = 1, #contacts do<br />
    if contacts[x].side == side then<br />
      -- contact on my side<br />
      local mycontact = contacts[x].guid<br />
      local con = ScenEdit_GetContact({side = contacts[x].side, guid = contacts[x].guid}); print(con);print(con.posture)<br />
      -- distance between my unit and the contact<br />
      local dist = base:rangetotarget( mycontact)<br />
      if dist ~= nil and dist &lt; 10 then<br />
        print('target in range (' .. dist ..'NM)')<br />
        if con.side == nil then<br />
        con.posture = 'H'<br />
        else<br />
        con.posture = 'U'<br />
        end<br />
        answer=true<br />
      else<br />
        print('target not in range (' .. dist ..'NM)')<br />
      end<br />
    end<br />
  end<br />
' } } }, triggers = { [1] = { UnitEntersArea = { ID = '580d7284-cb24-474b-a137-3e5f4aa2338f', LTOA = '636299676000000000', TargetFilter = { ID = '44117c69-a74e-4697-ac60-31e534546001', TargetSubType = '0', TargetSide = '2c728e58-fc85-4c9d-952c-b62a195b2051', TargetType = '1' }, Area = { RPoint2 = { RD = '21.79107', ColorR = '255', ColorB = '255', ID = '073a5227-9cde-4b4d-9020-f78aa12297f4', IH = 'True', Lat = '33.879419548290649', Lon = '139.09893527841047', Name = 'RP-3006', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '126.9126' }, RPoint1 = { RD = '23.86684', ColorR = '255', ColorB = '255', ID = '18bb5404-de45-4c9e-bec3-33a4fd904c9f', IH = 'True', Lat = '34.368804155042334', Lon = '139.10100045240316', Name = 'RP-3005', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '46.89403' }, RPoint = { RD = '23.26058', ColorR = '255', ColorB = '255', ID = '3f563b7f-9236-4b14-a1d4-7299dfe395da', IH = 'True', Lat = '34.36889226716081', Lon = '138.41511917002865', Name = 'RP-3004', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '314.5287' }, RPoint3 = { RD = '21.12538', ColorR = '255', ColorB = '255', ID = 'db940f3e-1112-4e55-ae89-59772b27c526', IH = 'True', Lat = '33.879523369216351', Lon = '138.41698363796547', Name = 'RP-3007', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '231.7307' } }, Description = 'Aircraft enters  exclusion zone', ETOA = '635984136000000000' } }, [2] = { UnitRemainsInArea = { ID = '9aa99e0c-9f67-4d3c-ae24-29a327b548d3', TargetFilter = { ID = '3fd45ed7-fc36-4807-923f-7299631a29c0', TargetSubType = '0', TargetSide = '2c728e58-fc85-4c9d-952c-b62a195b2051', TargetType = '1' }, Area = { RPoint = '<ID>db940f3e-1112-4e55-ae89-59772b27c526</ID>' }, TD = '120', Description = 'Aircraft remains in exclsuion zone', TA = '0' } } }, isShown = 'Yes', guid = 'dc7a2fe6-4786-4e8f-ba04-f7d152c39265', isRepeatable = 'Yes', isActive = 'Yes', description = 'Aircraft entering ship's exclusion zone', probability = 100 }
<br />
<br />
[object] = isShown<br />
True
<br />
<br />
[object] = conditions<br />
{ [1] = { LuaScript = { ID = '8635d4bd-5642-4b9b-af0f-877953f25459', Description = 'Detected by SideB', ScriptText = 'local answer = false<br />
local unit = ScenEdit_UnitX();<br />
print(unit)<br />
--local unit = ScenEdit_GetUnit({name='Happy #1', guid='3d9e9a78-091f-4745-b48d-0fbaba6fe8ce'})<br />
local contacts = unit.ascontact  -- what other sides see me as<br />
print(contacts)<br />
local base = ScenEdit_GetUnit({name='DDG 138 Taizhou [Pr.956ME Sovremenny]', guid='4761b40d-01e0-416c-a3e9-43880de92c3c'}) -- unit doing the detecting<br />
local side = VP_GetSide({side=base.side}).guid; print(side)<br />
  for x = 1, #contacts do<br />
    if contacts[x].side == side then<br />
      -- contact on my side<br />
      local mycontact = contacts[x].guid<br />
      local con = ScenEdit_GetContact({side = contacts[x].side, guid = contacts[x].guid}); print(con);print(con.posture)<br />
      answer=true<br />
    end<br />
  end<br />
return answer' } } }
<br />
<br />
[object] = triggers<br />
{ [1] = { UnitEntersArea = { ID = '580d7284-cb24-474b-a137-3e5f4aa2338f', LTOA = '636299676000000000', TargetFilter = { ID = '44117c69-a74e-4697-ac60-31e534546001', TargetSubType = '0', TargetSide = '2c728e58-fc85-4c9d-952c-b62a195b2051', TargetType = '1' }, Area = { RPoint2 = { RD = '21.79107', ColorR = '255', ColorB = '255', ID = '073a5227-9cde-4b4d-9020-f78aa12297f4', IH = 'True', Lat = '33.879419548290649', Lon = '139.09893527841047', Name = 'RP-3006', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '126.9126' }, RPoint1 = { RD = '23.86684', ColorR = '255', ColorB = '255', ID = '18bb5404-de45-4c9e-bec3-33a4fd904c9f', IH = 'True', Lat = '34.368804155042334', Lon = '139.10100045240316', Name = 'RP-3005', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '46.89403' }, RPoint = { RD = '23.26058', ColorR = '255', ColorB = '255', ID = '3f563b7f-9236-4b14-a1d4-7299dfe395da', IH = 'True', Lat = '34.36889226716081', Lon = '138.41511917002865', Name = 'RP-3004', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '314.5287' }, RPoint3 = { RD = '21.12538', ColorR = '255', ColorB = '255', ID = 'db940f3e-1112-4e55-ae89-59772b27c526', IH = 'True', Lat = '33.879523369216351', Lon = '138.41698363796547', Name = 'RP-3007', ColorG = '255', IRT = '4761b40d-01e0-416c-a3e9-43880de92c3c', RB = '231.7307' } }, Description = 'Aircraft enters  exclusion zone', ETOA = '635984136000000000' } }, [2] = { UnitRemainsInArea = { ID = '9aa99e0c-9f67-4d3c-ae24-29a327b548d3', TargetFilter = { ID = '3fd45ed7-fc36-4807-923f-7299631a29c0', TargetSubType = '0', TargetSide = '2c728e58-fc85-4c9d-952c-b62a195b2051', TargetType = '1' }, Area = { RPoint = '<ID>db940f3e-1112-4e55-ae89-59772b27c526</ID>' }, TD = '120', Description = 'Aircraft remains in exclsuion zone', TA = '0' } } }
<br />
<br />
[object] = isRepeatable<br />
True
<br />
<br />
[object] = actions<br />
{ [1] = { type = 'LuaScript', LuaScript = { ID = '4594c3bf-421d-43cd-a077-7f0d40294ae6', Description = 'Change posture', ScriptText = 'local unit = ScenEdit_UnitX();<br />
print(unit)<br />
--local unit = ScenEdit_GetUnit({name='Happy #1', guid='3d9e9a78-091f-4745-b48d-0fbaba6fe8ce'})<br />
local contacts = unit.ascontact  -- what other sides see me as<br />
print(contacts)<br />
local base = ScenEdit_GetUnit({name='DDG 138 Taizhou [Pr.956ME Sovremenny]', guid='4761b40d-01e0-416c-a3e9-43880de92c3c'}) -- unit doing the detecting<br />
local side = VP_GetSide({side=base.side}).guid; print(side)<br />
local answer = false<br />
  for x = 1, #contacts do<br />
    if contacts[x].side == side then<br />
      -- contact on my side<br />
      local mycontact = contacts[x].guid<br />
      local con = ScenEdit_GetContact({side = contacts[x].side, guid = contacts[x].guid}); print(con);print(con.posture)<br />
      -- distance between my unit and the contact<br />
      local dist = base:rangetotarget( mycontact)<br />
      if dist ~= nil and dist &lt; 10 then<br />
        print('target in range (' .. dist ..'NM)')<br />
        if con.side == nil then<br />
        con.posture = 'H'<br />
        else<br />
        con.posture = 'U'<br />
        end<br />
        answer=true<br />
      else<br />
        print('target not in range (' .. dist ..'NM)')<br />
      end<br />
    end<br />
  end<br />
' } } }
<br />
<br />
[object] = name<br />
nil<br />
							<output>
						</code>
					</div>
				</p>
				<h2>2. Retreiving some details from the Event</h2>
				<div class="example">
					<code>
local f = ScenEdit_EventX()  -- the event that has triggered<br />
print("EventID: " .. string.format('%s (\'%s\')',f.description, f.guid)) <br />
print("Active: " .. string.format('%s',f.isActive)) <br />
print("Shown: " .. string.format('%s',f.isShown)) <br />
print("Repeats: " .. string.format('%s',f.isRepeatable)) <br />
print("Trigger(s):") <br />
print(f.triggers) <br />
print("Conditions(s):") <br />
print(f.conditions) <br />
print("Action(s):") <br />
print(f.actions) <br />
<br />
						<output>
EventID: Turkish FFG destroyed ('cf4eb993-25bd-4626-a944-b2b3cf6ae3b6') <br />
Active: true <br />
Shown: False <br />
Repeats: True <br />
Trigger(s) <br />
{ [1] = { UnitDestroyed = { TargetFilter = { TargetType = '2', TargetSubType = '3303', ID = '88b4407d-f90f-4161-abea-357a69a66f13', TargetSide = '257e0c83-c955-4ab8-841b-49a46544b54f' }, ID = '4e5f16f3-8e65-40fe-b7e0-f95e99910eb1', Description = 'Turkish FFG destroyed' } } } <br />
Conditions(s) <br />
{ } <br />
Action(s) <br />
{ [1] = { Points = { Description = 'United States plus 01000 points', SideID = '2b7905cd-e798-494b-95fb-a01f5d9f4eec', ID = 'b1a3e26e-5c88-48a5-a866-88a7f7d737df', PointChange = '1000' }, type = 'Points' } }	 <br />
						</output>
						<p><br />
						The active event has one trigger (UnitDestroyed) and one action (update points).
						</p>
					</code>
				</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Group"></a>Wrapper Group</h1>
				<h2>Retreiving the Group details</h2>
				<div class="example">
					<code>
local u = ScenEdit_GetUnit({name='CVN BG', guid='9506a165-6e44-40dd-b721-f9c07e056bdb'}) <br />
print("Group [" .. u.group.name .. "] \r\n" .. " Lead ship is " .. ScenEdit_GetUnit({ guid= u.group.lead}).name)<br />
-- group contains units<br />
local s = "Group units:" .. "\r\n"<br />
for k,v in pairs(u.group.unitlist) do<br />
if v ~= u.group.lead then<br />
s = s .. k .. " - " .. ScenEdit_GetUnit({ guid= v}).name .. "\r\n"<br />
end<br />
end<br />
print(s)<br />
</p>
						<output>
Group [CVN BG] <br />
Lead ship is CVN 70 Carl Vinson [Nimitz Class]<br />
Group units:<br />
1 - USS Rentz<br />
2 - USS McClusky<br />
3 - USS Stockdale<br />
4 - USS Gridley<br />
5 - USS Higgins<br />
6 - USS Lake Champlain<br />
7 - USS Bunker Hill<br />
						</output>
					</code>
				</div>

	
				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Loadout"></a>Wrapper LoadOut</h1>
				<h2>Retreiving the Group details</h2>
					<div class="example">
						<code>
local u = ScenEdit_GetLoadout({name='MiG-31BM Foxhound', unitname='NZZYVJ-0HM0G1F7MPTLQ'}<br />
print("Loadout [" .. u.name .. "] \r\n" )<br />
--print(u.weapons)<br />
local s = "Weapon load:" .. "\r\n"<br />
for k,v in pairs(u.weapons) do<br />
print( v)<br />
s = s .. k .. " - " .. v.wpn_name <br />
s = s .. "\t(Carrying " .. v.wpn_current .. " of " .. v.wpn_maxcap .. ")\r\n"<br />
u:setExactWeaponQuantity(v.wpn_guid, v.wpn_maxcap)  -- set the current load back to full if any have been expended<br />
end<br />
print(s)<br />
<br />
<output>
Loadout [AA-13 Arrow [R-37M], AA-12 Adder B [R-77-1], Long-Range] <br />
Weapon load:<br />
1 - AA-12 Adder B [R-77-1, RVV-SD]	(Carrying 2 of 2)<br />
2 - AA-13 Arrow [R-37M, RVV-BD]	(Carrying 4 of 4)<br />
3 - 2500 liter Drop Tank	(Carrying 2 of 2)<br />
</output>
						</code>
					</div>
<!--
<p>Note that using the method to change the current load won't have immediate effect on this table; you would need to refresh the table first. For example, to remove one from the current load, and then show the new load numbers. </p>
					<div class="example">
<code>
for k,v in pairs(u.weapons) do<br />
print( v)<br />
u:setExactWeaponQuantity(v.wpn_guid, v.wpn_current-1)<br />
end<br />
for k,v in pairs(u.weapons) do<br />
print( v)<br />
s = s .. k .. " - " .. v.wpn_name <br />
s = s .. "\t(Carrying " .. v.wpn_current .. " of " .. v.wpn_maxcap .. ")\r\n"<br />
end<br />
</code>
</div>
-->		

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Magazine"></a>Wrapper Magazine</h1>
				<h2>Retreiving the Magazine details</h2>
					<div class="example">
						<code>
local u = ScenEdit_GetUnit({name='LST 4001 Osumi', guid='8269b881-20ce-4f2e-baa0-6823e46d55a4'})<br />
print( "Unit Magazines " .. "\r\n")<br />
for k,v in pairs(u.magazines) do<br />
 local s = '' <br />
 local m = u:getUnitMagazine(v.mag_guid) -- details on magazine<br />
 s = s .. k .. " - " .. m.name .. "with capacity of " .. m.capacity .. ' units\r\n'<br />
 s = s .. "\t[Armor rating = " .. m.armor .. ", ROF = " .. m.rof .. ", containing " .. #m.weapons .. " weapon(s)]\r\n"<br />
 for k,v in pairs(m.weapons) do<br />
    s = s .. "\t\t" .. v.wpn_name .. " with load " .. v.wpn_current .. " of " .. v.wpn_default .. '\r\n'<br />
    m:setExactWeaponQuantity(v.wpn_guid, v.wpn_default)  -- set the current load back to full if any have been expended <br />
 end<br />
print(s)<br />
end<br />
<br />
							<output>
Unit Magazines <br />
<br />
1 - 12.7mm/50 MGwith capacity of 200 units<br />
	[Armor rating = 1001, ROF = 15, containing 1 weapon(s)]<br />
		12.7mm/50 MG Burst [10 rnds] with load 180 of 200<br />
<br />
2 - 20mm/85 Mk15 Phalanx Blk 1with capacity of 20 units<br />
	[Armor rating = 2001, ROF = 300, containing 1 weapon(s)]<br />
		20mm/85 Mk15 Phalanx Blk 1 Burst [300 rnds] with load 20 of 20<br />
<br />
3 - Helicopter Magazinewith capacity of 10000 units<br />
	[Armor rating = 1001, ROF = 60, containing 2 weapon(s)]<br />
		AGM-114M Hellfire II with load 24 of 24<br />
		Mk46 NEARTIP Mod 5 with load 40 of 40<br />
<br />
4 - Mk36 SRBOCwith capacity of 80 units<br />
	[Armor rating = 1001, ROF = 300, containing 2 weapon(s)]<br />
		Mk182 SRBOC Chaff [Seduction] with load 2 of 64<br />
		Mk186 TORCH Flare [Seduction] with load 2 of 16<br />
							</output>
						</code>
					</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Mission"></a>Wrapper Mission</h1>
				<h2>Retreiving the Mission details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>
		

		
				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Mount"></a>Wrapper Mount</h1>
				<h2>Retreiving the Mount details</h2>
					<div class="example">
						<code>		
local u = ScenEdit_GetUnit({name='LST 4001 Osumi', guid='8269b881-20ce-4f2e-baa0-6823e46d55a4'})<br />
print( "Unit Mounts " )<br />
for k,v in pairs(u.mounts) do<br />
 local s = '' <br />
 local m = u:getUnitMount(v.mount_guid) -- details on mount<br />
 s = s .. k .. " - " .. m.name .. " [ " .. v.mount_status .. ' ]\r\n'<br />
 s = s .. "\t[ containing " .. #m.weapons .. " weapon(s) ]\r\n"<br />
 for k,v in pairs(m.weapons) do<br />
    s = s .. "\t\t" .. v.wpn_name .. " with load " .. v.wpn_current .. " of " .. v.wpn_default .. '\r\n'<br />
   --m:setExactWeaponQuantity(v.wpn_guid, v.wpn_default)  -- set the current load back to full if any have been expended <br />
 end<br />
print(s)<br />
end<br />
<br />
<output>
Unit Mounts <br />
1 - 12.7mm/50 MG [ Operational ]<br />
	[ containing 1 weapon(s) ]<br />
		12.7mm/50 MG Burst [10 rnds] with load 10 of 10<br />
<br />
2 - 12.7mm/50 MG [ Operational ]<br />
	[ containing 1 weapon(s) ]<br />
		12.7mm/50 MG Burst [10 rnds] with load 10 of 10<br />
<br />
3 - 20mm/85 Mk15 Phalanx Blk 1 CIWS [ Operational ]<br />
	[ containing 1 weapon(s) ]<br />
		20mm/85 Mk15 Phalanx Blk 1 Burst [300 rnds] with load 5 of 5<br />
<br />
4 - 20mm/85 Mk15 Phalanx Blk 1 CIWS [ Operational ]<br />
	[ containing 1 weapon(s) ]<br />
		20mm/85 Mk15 Phalanx Blk 1 Burst [300 rnds] with load 5 of 5<br />
<br />
5 - Mk36 SRBOC [ Operational ]<br />
	[ containing 2 weapon(s) ]<br />
		Mk182 SRBOC Chaff [Seduction] with load 4 of 4<br />
		Mk186 TORCH Flare [Seduction] with load 2 of 2<br />
<br />
6 - Mk36 SRBOC [ Operational ]<br />
	[ containing 2 weapon(s) ]<br />
		Mk182 SRBOC Chaff [Seduction] with load 4 of 4<br />
		Mk186 TORCH Flare [Seduction] with load 2 of 2<br />
<br />
7 - Mk36 SRBOC [ Operational ]<br />
	[ containing 2 weapon(s) ]<br />
		Mk182 SRBOC Chaff [Seduction] with load 4 of 4<br />
		Mk186 TORCH Flare [Seduction] with load 2 of 2<br />
<br />
8 - Mk36 SRBOC [ Operational ]<br />
	[ containing 2 weapon(s) ]<br />
		Mk182 SRBOC Chaff [Seduction] with load 4 of 4<br />
		Mk186 TORCH Flare [Seduction] with load 2 of 2<br />
							</output>
						</code>
					</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_RP"></a>Wrapper Reference Point</h1>
				<h2>Retreiving the RP details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Scenario"></a>Wrapper Scenario</h1>
				<h2>Retreiving the Scenario details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>


				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Side"></a>Wrapper Side</h1>
				<h2>Retreiving the Side details</h2>
					<div class="example">
					<p>Find units in an area</p>
					<code>local u = side:unitsInArea({Area = { 'RP-3137', 'RP-3139', 'RP-3136', 'RP-3138'},<br> TargetFilter = { TargetType = 'Ship' } })
					</code>
					<div class="example">
					<p>Find units on side by a filter</p>
					<code>local u = side:side:unitsBy('Ship')  -- all ships <br>
					u = side:unitsBy('Ship', 2002, 3003) -- ships fitered for 'Surface combatant' and 'BBC'
					</code>
					</div>
                  </div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_SA"></a>Wrapper Special Action</h1>
				<h2>Retreiving the SA details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Unit"></a>Wrapper Unit</h1>
				<h2>Retreiving the Unit details</h2>
					<div class="example">
					<p>Update the orbit for a satellite by specifying a TLE</p>
                    	<code>
theSat = ScenEdit_GetUnit({guid=<span class="string">'56f830c1-d0e2-430a-985e-0e301cc01eff'</span>})<br>
theTLE = <span class="string">'Resurs P1\n1 39186U 13030A   17013.12537468  .00000446  00000-0  16942-4 0  9992\n2 39186  97.3847  79.3911 0015157 247.7411 195.8488 15.31966970198820'</span><br>
theSat:updateorbit({TLE=theTLE})
                    	</code>
                    </div>
 					<div class="example">
					<p>Change the type of waypoint</p>
                    	<code>
 au = ScenEdit_GetUnit({name='AGM-158A JASSM [Penetrator] #967', guid='46skox-0hmf72m6q6bdj'})<br>
 print(au.course)<br>
 wp = au:getwaypoint({GUID='46SKOX-0HMF72M6Q6L64'})<br>
 wp.type = 0   -- This changes the waypoint type, in this case to manual plotted-course waypoint<br>
 print(wp.type)<br>
                    	</code>
                    </div>

 					<div class="example">
					<p>Change group's formation - reposition individual units - via teleport (transpose = true)</p>
<p>1. to 'line abreast' (one of the pre-defined formations)</p>
                    	<code>
local a = ScenEdit_GetUnit( { guid='9506a165-6e44-40dd-b721-f9c07e056bdb' } )<br>
a.formation = {name='line', spacing_unit = 1, transpose='true'}<br>
                    	</code>
<p>2. to a customised formation</p>
                    	<code>
local a = ScenEdit_GetUnit( { guid='9506a165-6e44-40dd-b721-f9c07e056bdb' } )<br>
a.formation = {name='Custom:\t0\t2\t1\t135\t1\t1\t225\t1', spacing_unit = 1, transpose='true'}<br>
                    	</code>
                    </div>


				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Zone"></a>Wrapper Zone (non-navigation and exclusion)</h1>
				<h2>Retreiving the Zone details</h2>
					<div class="example">
						<code>
							<span class="local">local</span> a = VP_GetSide({Side =<span class="string">'side1'</span>}) <br>
							<span class="comment">-- a side object
				</span> <br>
				<span class="local">local</span> z = a.nonavzones <br>
				--List Of no-nav zones For the side If you need To find it<br>
		
				For i, zone <span class="keyword">in</span> <span class="global">ipairs</span>(z) <span class="keyword">do</span>
				<span class="global">print</span>(<span class="string">"Zone #"</span> .. i)
				<span class="global">print</span>(zone)
				<span class="local">local</span> n = a :  getnonavzone(z[i].guid) <span class="comment">-- zone object
				</span>     <span class="global">print</span>(<span class="string">'Details: '</span> .. n.description .. <span class="string">' Active: '</span> .. <span class="global">tostring</span>(n.isactive) )
				n.area = {<span class="string">'rp-9'</span>,<span class="string">'rp-10'</span>, <span class="string">'rp-8'</span> <span class="comment">-- replace with a list of visible RPs for the side
				</span> n.area = {
				name=<span class="string">'area test rp0'</span>,  latitude=<span class="string">'35.5480335331354'</span>, longitude=<span class="string">'15.8184476823186'</span>, highlighted=<span class="keyword">true</span>, bearingtype=<span class="number">1</span>, relativeto=<span class="string">'Tracking #1'</span>, hidden = <span class="keyword">false</span>,
				name=<span class="string">'area test rp1'</span>,  latitude=<span class="string">'35.5480335331354'</span>, longitude=<span class="string">'16.8184476823186'</span>, highlighted=<span class="keyword">true</span>,,
				name=<span class="string">'area test rp2'</span>,  latitude=<span class="string">'38.5480335331354'</span>, longitude=<span class="string">'18.8184476823186'</span>, highlighted=<span class="keyword">false</span>,  <span class="comment">-- replace with a new set of RPs that might not be visible to the side
				</span> End
				</code>
				</div> 

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_WP"></a>Wrapper WayPoint</h1>
				<h2>Retreiving the WP details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>

				<hr>
				<h1><a class="anchor" id="Example_Wrapper_Weapon"></a>Wrapper Weapon</h1>
				<h2>Retreiving the Weapon details</h2>
					<div class="example">
						<code>
							<output>
							</output>
						</code>
					</div>



<!-- end of example section  -->
            </div>
        </div>
    </div>

    <div id="footer">
        <p> Copyright &copy; WarfareSims 2020</p>
    </div>
</body>

</html>
