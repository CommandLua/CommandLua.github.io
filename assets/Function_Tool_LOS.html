<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163808192-1"></script>
    <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-163808192-1');
    </script>


    <title>Command Lua Docs</title>
    <link rel="stylesheet" type="text/css" href="style.css">



</head>

<body>
    <div id="header-container">
        <div id="header">
            <div id="header-logo">
                <h1>
                    <a href="../index2.html"><img src="./images/CommandLuaLogo.svg" height=45px alt="CommandLua"></a>
                </h1>
            </div>
            <div id="header-nav">
                <a class="selected" href="../index2.html">Reference</a>
                <!-- <a href="/guides/">Guides</a> -->
                <a href="https://www.matrixgames.com/forums/tt.asp?forumid=1681">Forum</a>
            </div>
        </div>
    </div>
    <div id="container">

        <div id="content">
            <div id="nav">
                <ul>
                    <li><a href="../index2.html#News">News</a></li>
                    <li><a href="../index2.html#Introduction">Introduction</a></li>
                    <ol>
                        <li><a href="../index2.html#HowToUse">How to Use These Docs</a></li>
                        <li><a href="../index2.html#FirstSteps">First Steps</a></li>
                        <li><a href="../index2.html#ExternalResources">External Resources</a></li>
                    </ol>

                    <li><a href="../index2.html#Overview">Overview</a></li>
                    <ol>
                        <li><a href="../index2.html#CaseSensitivityandConventions">Case Sensitivity and Conventions</a></li>
                        <li><a href="../index2.html#EventHandling">Event Handling</a></li>
                        <li><a href="../index2.html#ErrorHandling">Error Handling</a></li>
                    </ol>
                    <li><a href="DataTypes.html">Data Types</a></li>
                    <li><a href="Functions.html">Functions</a></li>
                    <li><a href="Wrappers.html">Wrappers</a></li>
                    <li><a href="Selectors.html">Selectors</a></li>
                    <li><a href="Tables.html">Tables</a></li>
                </ul>
            </div>

            <div id="main">

                <h3>
                    <a class="anchor" id="Tool_Range"> </a> Tool_LOS ( table)
                </h3>
                <p>
                    This function can return <br/>
(a) the distance to the radar horizon between mix of units and altitudes, or <br/>
(b) a true/false if a LOS exists between a unit and a contact
                </p>
                <h4> Parameters</h4>
                <ul>
                    <li>
                        <span class="parameter"> table</span>
                        <span class="table">
                            {
                            }

                        </span>
						<ul>
							<li>
							<span class="parameter"> mode =</span>
							<span class="types"> <span class="number"> number</span> </span>
							Distance to horizon (0) or LOS is clear (1)
							</li>
							<li>
							<span class="parameter"> horizon =</span>
							<span class="types"> <span class="number"> number</span> </span>
							Radar (0) or Visual (1)
							</li>
							<li>
							<span class="parameter"> useRangeLimits =</span>
							<span class="types"> <span class="boolean"> True/False</span> </span>
							If using a unit as the 'observer', use the min/max ranges of the sensor(s) in the unit to get the 'horizon'
							</li>
							<li>
							<span class="parameter"> observer = </span>
							<span class="table">
                            {
                            }
							</span>
							<ul>
							<li>
							<span class="parameter"> altitude =</span>
							<span class="types"> <span class="number"> number</span> or <span class="string"> string</span> </span>
							Altitude of the observer.
							</li>
							<li>
							<span class="parameter"> guid =</span>
							<span class="types"> <span class="number"> number</span> </span>
							Observer unit GUID. The altitude of the unit and any mast height will be calculated.<br/> If performing a LOS check, then this must be supplied
							</li>
							</ul>
							The 'altitude' and 'guid' are mutally exclusive; either use a Unit or Altitude. The Altitude is in meters; however you use a string to put this in as feet ('10000 ft') and it will be converted.
							</li>
							<li>
							<span class="parameter"> target = </span>
							<span class="table">
                            {
                            }
							</span>
							<ul>
							<li>
							<span class="parameter"> altitude =</span>
							<span class="types"> <span class="number"> number</span> or <span class="string"> string</span></span>
							Altitude of the target
							</li>
							<li>
							<span class="parameter"> guid =</span>
							<span class="types"> <span class="number"> number</span> </span>
							Target contact GUID. The altitude of the actual unit will be calculated. <br/>If performing a LOS check, then this must be supplied
							</li>
							</ul>
							The 'altitude' and 'guid' are mutally exclusive; either use a Unit or Altitude. The Altitude is in meters; however you use a string to put this in as feet ('10000 ft') and it will be converted.
							</li>
                </ul>
                <h4> Returns</h4>
                <p>
                    <span class="types"> <span class="number"> number</span> </span>
                    The
                    horizontal
                    distance
                    in
                    NM,
					or<br/>
                     <span class="types"> <span class="boolean"> True/False</span> </span>
                    Is the line of sight clear
               </p>

                <h5> Example</h5>
                <div class="example">
                    <code> 
local los = Tool_LOS( {observer = {alt=10}, target ={alt=10972}} )<br/>
print(string.format('Distance to horizon = %.2f NM', los) )<br/>
<output>
Distance to horizon = 239.63 NM<br/>
</output>
					</code>
                </div>

                <div class="example">
                    <code> 
local los = Tool_LOS( {observer = {guid='GNRIJH-0HMJFCEE2I3U8'}, target ={alt=10972}, useRangeLimits=true} )<br/>
print(string.format('Distance to horizon = %.2f NM', los) )<br/>
<output>
Distance to horizon = 230.00 NM<br/>
</output>
					</code>
                </div>

                <div class="example">
                    <code> 

local los = Tool_LOS( {observer = {guid='GNRIJH-0HMJFCEE2I3U8'}, target ={guid='GNRIJH-0HMJFCEE2I9AN'}, mode = 1, horizon = 0} )<br/>
if type(los) == 'boolean' then<br/>
print(string.format('Line of sight to target = %s', los) )<br/>
else<br/>
print(string.format('Distance to horizon = %.2f NM', los) )<br/>
end<br/>
<output>
Line of sight to target = true
</output>
					</code>
                </div>

           </div>
        </div>
    </div>

    <div id="footer">
        <p> Copyright &copy; WarfareSims 2020</p>
    </div>
</body>

</html>
